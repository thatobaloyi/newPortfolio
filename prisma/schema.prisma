// prisma/schema.prisma

// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  // The DATABASE_URL environment variable will hold your MongoDB connection string.
  // Example: mongodb+srv://<username>:<password>@<cluster-url>/<database-name>?retryWrites=true&w=majority
  url      = env("DATABASE_URL")
}

// Model for "About Me" and "Skills" information.
// It's common to have a single document for these if they're static content.
model AboutMe {
  id        String    @id @default(auto()) @map("_id") @db.ObjectId // MongoDB's _id
  aboutMe   String // Text for "about me" section
  skills    String[] // Array of strings for skills (e.g., ["React", "Next.js", "MongoDB"])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// Model for Work Experience entries
model WorkExperience {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  company     String
  position    String // e.g., "Software Engineer"
  duration    String // e.g., "Jan 2020 - Dec 2023" or "3 Years"
  description String[] // Detailed description of responsibilities/achievements
  skills      String[] // Skills used in this specific work experience
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model User{
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  fullname  String
  email     String @unique
  password  String
    
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
}

// Model for Education entries
model Education {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  title       String // e.g., "Bachelor of Science in Computer Science"
  institution String // e.g., "University of XYZ"
  duration    String // e.g., "Sep 2016 - May 2020"
  description String? // Description of coursework, achievements, etc.
  keyCoursework String[]
  // An array of strings for achievements, optional
  achievements  String[]
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Landing {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  name        String
  position    String 
  description String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Skill {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  name  String @unique // Ensure skill names are unique
  icon  String
}


model Post {
  id              String    @id @default(auto()) @map("_id") @db.ObjectId // MongoDB's _id
  
  // Core Content
  title           String    @unique // Blog post title (should be unique)
  slug            String    @unique // URL-friendly slug (e.g., "my-first-blog-post")
  content         String    // The main body/text of the blog post (e.g., Markdown or HTML)
  summary         String?   // A short description for previews
  
  // Media & Metadata
  postImage       String?   // URL or path to the main image
  tags            String[]  // Array of strings for categories/tags (e.g., ["JavaScript", "Next.js", "MongoDB"])
  
  // Author & Relations (Optional, but good practice)
  author          String    // The name of the author (you)
  // If you had a separate User/Author model, you'd use a relation here:
  // authorId      String    @db.ObjectId
  // author        User      @relation(fields: [authorId], references: [id])
  
  // Timestamps
  publishedAt     DateTime  // The date the post was first published
  createdAt       DateTime  @default(now()) // When the record was created in the DB
  updatedAt       DateTime  @updatedAt      // When the record was last modified
}

